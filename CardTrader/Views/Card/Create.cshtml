@using CardTrader.Core.DataTransferObjects

@{
    Layout = "/Views/Shared/_Layout.cshtml";
    var card = (CardDTO)ViewBag.Card;
}

@if (ViewBag.Card == null)
{
    <form asp-page-handler="CardController">
        <label for="cardName">Card Name:</label>
        <input type="text" id="cardName" name="cardName">
        <input type="submit">
    </form>
}
else
{
    <form align="center">
        <input type="hidden" name="Id" value="@card.data[0].id">
        <input type="hidden" name="Name" value="@card.data[0].name">

        <label for="set">Expansion</label>
        <select id="sets" name="sets">
            @foreach (var set in card.data[0].card_sets)
            {
                <option value="@set.set_name">@set.set_name</option>
            }
        </select><br>

        <label for="rarity">Rarity</label>
        <select id="rarity" name="rarity">
            @foreach (var set in card.data[0].card_sets)
            {
                <option value="@set.set_rarity">@set.set_rarity</option>
            }
        </select><br>

        <label for="language">Language:</label>
        <select id="language" name="language">
            <option value="en">English</option>
            <option value="fr">French</option>
            <option value="it">Italian</option>
            <option value="de">German</option>
            <option value="es">Spanish</option>
            <option value="pt">Portuguese</option>
            <option value="jp">Japanese</option>
            <option value="kr">Korean</option>
            <option value="ch">Chinese</option>
            <option value="ena">Asian English</option>
        </select><br>

        <label for="first_edition">First Edition:</label>
        <input type="checkbox" id="first_edition" name="first_edition" value="First Edition"><br>

        <label for="condition">Condition:</label>
        <select id="condition" name="condition">
            <option value="Poor">Poor</option>
            <br>
            <option value="Played">Played</option>
            <br>
            <option value="Good">Good</option>
            <br>
            <option value="Excellent">Excellent</option>
            <br>
            <option value="Pristine">Pristine</option>
            <br>
        </select><br>

        <label for="img">Card Art:</label>
        <select id="img" name="img">
            @foreach (var image in card.data[0].card_images)
            {
                string imgUrl = image.image_url;
                <option value="@image.image_url" onselect="changeImage(@imgUrl)">@image.id</option>
            }
        </select>
    </form>

    <img align="left" id="dimg" src="imgUrl">

}